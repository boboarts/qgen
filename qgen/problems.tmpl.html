<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>PG</title>
  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async>
  </script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.0.min.js"></script>
  <script>

    function showAnswer()
    {
      document.getElementById("answers").style="display:block"
    }

    function hideAnswer()
    {
      document.getElementById("answers").style="display:none"
    }

  function getNewUrl()
  {
    var len = window.location.href.length;
    var url = window.location.href;
    var newUrl = url.substr(0,len-3) + $("#level").val() + "/" + $("#sign").val()
    return newUrl
  }

  function getHomeUrl()
  {
    var len = window.location.href.length;
    var url = window.location.href;
    var homeUrl = url.substr(0,len-window.location.pathname.length)
    return homeUrl
  }

  function parseUrl()
  {
    var len = window.location.href.length;
    var url = window.location.href;
    var pos = url.lastIndexOf("/", len-3)
    var level = url.substr(pos+1,1)
    var sign = url.substr(pos+3,1)
    //var params = '{ "level": "2", "sign": "t"}'
    var params = '{ "level": "' + level + '", "sign": "' + sign + '"}'
    return params;
  }

  $(document).ready(function(){
 
    $("#level").change(function(){
      // alert($("#level").val());
      window.location.assign(getNewUrl())
    });

    $("#sign").change(function(){
      // alert($("#sign").val());
      window.location.assign(getNewUrl())
    });

    $("#btnGoHome").click(function(){
      // alert($("#sign").val());
      window.location.assign(getHomeUrl())
    });

    var parmas = JSON.parse(parseUrl())
    $("#sign").val(parmas.sign)
    $("#level").val(parmas.level)
    // alert (parmas.level)
    // alert (parmas.sign)
  });
</script>
</head>
<body>
<p>
	
  <!-- https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference -->
  <!-- $$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$ -->
  <!-- $$ax^2+bx+c=(ax+b)*(cx+d)$$ -->
  <!-- 
  		$$\begin{cases}
			a_1x+b_1y+c_1z=d_1 \\ 
			a_2x+b_2y+c_2z=d_2 \\ 
			a_3x+b_3y+c_3z=d_3
			\end{cases}
		$$
	-->

#PROBLEMS#

</p>
<div style="text-align:center">
  <button id="btnShowAnswer" onclick="showAnswer()" >看答案</button>
  <button id="btnHideAnswer" onclick="hideAnswer()" >关答案</button>
  <select name="level" id="level">
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
  </select>
  <select name="sign" id="sign">
    <option value="t">混合模式</option>
    <option value="f">只有正数</option>
  </select>
  <!-- <button id="btnGoBack" onclick="history.go(-1)" >返回</button> -->
  <button id="btnGoHome">返回首页</button>
</div>
<p id="answers" style="display:none">
#ANSWERS#
</p>
</body>
</html>